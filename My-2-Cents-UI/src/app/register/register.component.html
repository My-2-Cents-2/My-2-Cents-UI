<div class="card" style="text-align: center;">
  <h4 class="card-header">Register</h4>
  <div class="cardbody">
<form [formGroup]='registerForm' (ngSubmit)="register()" autocomplete="off" class="mx-1 mx-md-4">
    <div class="form-outline flex-fill mb-0 form-group">
        <label class="form-label">Username</label><br>
        <input 
            type="text" 
            class="form-control" 
            formControlName='username'
            placeholder="Username"
            [class.is-invalid]='submitted && registerForm.get("username").errors'/>
            
            <div *ngIf="submitted && registerForm.get('username').hasError('required')" 
            class="invalid-feedback" style="color:red">Please enter a username</div><br><br><br>
    </div> 
    <div class="d-flex flex-row align-items-center mb-4 form-group">    
      <div class="form-outline flex-fill mb-0">
        <label class="form-label">Email Address</label><br>
        <input 
              type="email" 
              class="form-control" 
              formControlName='email'
              placeholder="Email"
              [class.is-invalid]='submitted && registerForm.get("email").errors'/>

              <div *ngIf="submitted && registerForm.get('email').hasError('required')" 
              class="invalid-feedback" style="color:red">Please enter your email</div><br><br><br>
      </div>
    </div> 
    <div class="d-flex flex-row align-items-center mb-4 form-group">
      <div class="form-outline flex-fill mb-0">
        <label class="form-label">Password</label><br>
        <input 
              [type]="show ? 'text' : 'password'" 
              class="form-control" 
              formControlName='password'
              placeholder="Password"
              [class.is-invalid]='submitted && registerForm.get("password").errors'/>

              <div *ngIf="submitted && registerForm.get('password').hasError('required')" 
                class="invalid-feedback" style="color:red">Please enter a password</div><br>

              <div *ngIf="submitted && registerForm.get('password').hasError('minlength')" 
                class="invalid-feedback" style="color:red">Minimum length should be at least 6 characters!</div><br>

              <div *ngIf="submitted && registerForm.get('password').hasError('pattern')" 
                class="invalid-feedback" style="color:red">Must contain at least 1 uppercase letter, 1 lowercase letter, and 1 special character!</div><br>
      </div>
    </div>  

    <div class="form-check">
      <input type="checkbox" class="form-check-input" class="password-check-box" id="exampleCheck1"
        (click)="showPassword()" required.value>
      <label class="form-check-label" for="exampleCheck1">Show Password</label>
    </div>

    <div class="d-flex flex-row align-items-center mb-4 form-group">
      <div form-outline flex-fill mb-0>
        <label class="form-label">Confirm Password</label><br>
        <input  
              type="password" 
              class="form-control" 
              formControlName='confirmPassword'
              placeholder="Confirm Password"
              [class.is-invalid]='registerForm.get("confirmPassword").errors'/>

              <div *ngIf="submitted && registerForm.get('confirmPassword').hasError('required')" 
                class="invalid-feedback" style="color:red">Please re-enter your password</div><br>

              <div *ngIf="submitted && registerForm.get('confirmPassword').hasError('isMatching')" 
                class="invalid-feedback" style="color:red">Both passwords must match!</div><br><br><br>
      </div>
    </div>

    <div class="d-flex justify-content-center mx-4 mb-3 mb-lg-4" >
      <button type="submit" style="padding:0.3rem 0.50rem;" class="btn1 btn btn-primary btn-lg">Register</button>
    </div><br>       
  </form>
    <div class="d-flex justify-content-center flex-row align-items-center mb-4">
      <span>Already have an account? <a routerLink="/">Log in.</a></span>
    </div>
  </div>
</div>